package com.lhj.scrollerdemo;import android.content.Context;import android.util.AttributeSet;import android.view.MotionEvent;/** * Created by lhj on 18/9/8 */public class HorizontalScrollView extends android.widget.HorizontalScrollView {    private static SHXOnScrollListener myOnScrollListener;    private float lastY,lastX;    public HorizontalScrollView(Context context) {        super(context);    }    public HorizontalScrollView(Context context, AttributeSet attrs) {        super(context, attrs);    }    public HorizontalScrollView(Context context, AttributeSet attrs, int defStyleAttr) {        super(context, attrs, defStyleAttr);    }    @Override    public boolean onInterceptTouchEvent(MotionEvent ev) {        switch (ev.getAction()){            case MotionEvent.ACTION_DOWN:                lastX = ev.getX();                lastY = ev.getY();                break;            case MotionEvent.ACTION_MOVE:                float slopX = Math.abs(ev.getX() - lastX);                float slopY = Math.abs(ev.getY() - lastY);                if((slopX > 0 || slopY > 0) && slopX >= slopY ){                    requestDisallowInterceptTouchEvent(true);                    return true;                }                break;        }        return super.onInterceptTouchEvent(ev);    }    @Override    protected void onScrollChanged(int l, int t, int oldl, int oldt) {        super.onScrollChanged(l, t, oldl, oldt);        if(myOnScrollListener != null){            myOnScrollListener.onScrollX(l);        }    }    public void setSVHOnScrollListener(SHXOnScrollListener listener) {        myOnScrollListener = listener;    }    public  interface SHXOnScrollListener{        void onScrollX(int scrollX);    }}